{% extends 'admin/base.html.twig' %}

{% block title %}Adminstration des annonces
{% endblock %}

{% block body %}

	<div class="container-fluid">
		<h1 class="my-5">Gestions des annonces</h1>
		<table class="table table-hover">
			<thead>
				<tr>
					<th>ID</th>
					<th>Titre</th>
					<th>Auteur</th>
					<th>RÃ©servation</th>
					<th>Note</th>
					<th>Action</th>
				</tr>
			</thead>

			<tbody>
				{% for ad in ads %}
					<tr>
						<td>{{ad.id}}</td>
						<td>{{ad.title}}</td>
						<td>
							<img src="{{ad.author.picture}}" alt="avatar" class="_avatar _avatarMini mr-2">
							{{ad.author.fullName}}
						</td>
						<td>
							<span class="badge badge-primary rounded">{{ad.bookings | length}}</span>
						</td>

						<td>
							<span class="badge badge-primary rounded">{{ad.getAverageRating | number_format(1,',',' ')}}</span>
						</td>
						<td>
							<a href="{{path('admin_ads_edit',{'id':ad.id})}}" class="btn btn-warning">
								<i class="fa fa-edit"></i>
							</a>
							<a href="{{path('admin_ads_delete',{'id':ad.id})}}" class="btn btn-danger">
								<i class="fa fa-trash"></i>
							</a>

						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
{# 
		<div class="btn-toolbar d-flex justify-content-center" role="toolbar" aria-label="Toolbar with button groups">
			<div class="btn-group mr-2" role="group" aria-label="First group">
				<button type="button" class="btn btn-secondary">1</button>
				<button type="button" class="btn btn-secondary">2</button>
				<button type="button" class="btn btn-secondary">3</button>
				<button type="button" class="btn btn-secondary">4</button>
			</div>
			<div class="btn-group mr-2" role="group" aria-label="Second group">
				<button type="button" class="btn btn-secondary">5</button>
				<button type="button" class="btn btn-secondary">6</button>
				<button type="button" class="btn btn-secondary">7</button>
			</div>
			<div class="btn-group" role="group" aria-label="Third group">
				<button type="button" class="btn btn-secondary">8</button>
			</div>
		</div> #}


		<nav aria-label="Page navigation example ">
			<ul class="pagination d-flex justify-content-center">
				<li class="page-item  {% if page == 1 %}disabled{% endif %}">
					<a class="page-link" href="{{path('admin_ads_index',{'page':page - 1})}}" aria-label="Previous">
						<span aria-hidden="true">&laquo;</span>
						<span class="sr-only">Previous</span>
					</a>
				</li>
                {% for i in 1..nbrPage %}
                    
                    <li class="page-item {% if page == i %}active{% endif %}">
                        <a class="page-link" href="{{path('admin_ads_index',{'page':i})}}">{{i}}</a>
                    </li>

                {% endfor %}

				<li class="page-item {% if page == nbrPage %}disabled{% endif %}">
					<a class="page-link" href="{{path('admin_ads_index',{'page':page + 1})}}" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
						<span class="sr-only">Next</span>
					</a>
				</li>
			</ul>
		</nav>


	</div>

{% endblock %}
